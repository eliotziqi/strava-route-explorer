# 📘 产品需求文档 PRD

## 项目名：**RouteXplorer**

> 用 Strava 数据构建一个不依赖订阅的
> **个人运动热图 + 探索 + 数据驾驶舱平台**

---

## 版本信息

| 项目     | 内容                   |
| ------ | -------------------- |
| 文档版本   | v2.0                 |
| 对应产品阶段 | 从 MVP → Beta         |
| 核心卖点   | 免费热图 + 自由数据仪表 + 探索驱动 |
| 作者     | 你 + ChatGPT          |
| 更新时间   | 2025 Q1              |

---

## 一、产品定位升级

### 1.1 一句话定位

> 为不购买 Strava 订阅的运动用户，提供一个**自由、高度可视化、数据驱动的轨迹探索平台**。

---

### 1.2 解决的问题

Strava 免费用户常见痛点：

* 看不到完整热图
* 数据分析不够深入
* 无法进行长期成长可视化
* 缺乏探索感和目标感

RouteXplorer 的解决：

> 把“运动记录”升级为“城市探索游戏”。

---

## 二、用户分类

| 用户类型           | 描述          |
| -------------- | ----------- |
| Free Strava 用户 | 不想订阅，但想高级功能 |
| 跑者             | 每周跑步 ≥2 次   |
| 骑行者            | 周末骑行爱好者     |
| 数据极客           | 关注统计和自我分析的人 |

---

## 三、功能范围（核心模块）

### 核心模块总览

| 模块                | 描述              |
| ----------------- | --------------- |
| 热图与探索             | 个人 + 周对比 + 探索路线 |
| Iconic Activities | 个人高光活动展示        |
| 数据 Dashboard      | 自由定制分析面板        |
| Level & XP        | 游戏化成长系统         |
| 推荐系统              | 基于偏好的路线/区域推荐    |

---

## 四、功能分模块详情

---

## 4.1 热图系统 v2.0

### 目标

构建一个比 Strava 热图更自由、功能更丰富、维度更多的个人热图系统。

### 子功能

#### 1️⃣ 基础热图

* 自由展示个人历史所有轨迹
* 支持跑步 / 骑行分类
* 支持透明叠加热度表现

#### 2️⃣ Personal vs Weekly 对比热图

新增一个二分图模式：

| 左图     | 右图     |
| ------ | ------ |
| 历史热图   | 最近7天热图 |
| 显示长期轨迹 | 显示本周新增 |

支持：

* 高亮“本周新探索区域”
* 显示探索增长数值

#### 3️⃣ 偏好热图分析

通过轨迹行为自动分析：

* 偏好区域类型（河道/城市/公园）
* 时间偏好（晨跑/夜跑）
* 轨迹重合比例（探索 vs 重复）

输出：

```
你的运动风格：Urban Explorer
偏好：夜跑、江边路线、20~30km骑行
```

---

## 4.2 Iconic Activities 模块

> 用来承载“运动成就感”和“个人品牌感”

用户可以：

* 选择最多 5 个活动
* 标记为「Iconic」
* 添加自定义描述

首页 Profile 页面展示：

```
🏔 崂山 80km 骑行
📆 2024-03-21
🚴 我的第一次爬山骑行
```

支持：

* 地图小预览
* 后期可生成分享链接

---

## 4.3 高自由度数据 Dashboard

### 核心设计理念

类似：
**Notion + Apple Fitness + Strava Dashboard**

支持：

* 模块拖拽
* 自由组合
* 多种模板

---

### 可配置模块

| 模块        | 内容        |
| --------- | --------- |
| 热图窗口      | 小尺寸个人热图   |
| 里程统计      | 月度 / 年度距离 |
| 次数统计      | 活动频率      |
| 活动分布      | 类型比例      |
| 趋势模块      | 距离变化趋势    |
| Level 模块  | 等级展示      |
| Iconic 模块 | 高光活动展示    |

---

### 预设模板

1. Runner 模板
2. Cyclist 模板
3. Explorer 模板
4. Minimal 模板

---

## 4.4 Level & XP 系统

### 核心目的

提升用户粘性，建立长期目标感。

### 规则设计（v1）

```
经验值 XP =
距离(km) × 1  
+ 活动次数 × 3  
+ 新探索区域数 × 5  
```

等级：

| Level | 说明           |
| ----- | ------------ |
| 1     | Beginner     |
| 3     | Explorer     |
| 5     | Pathfinder   |
| 10    | Urban Legend |

---

## 4.5 智能推荐系统（第一版）

基于用户历史行为：

* 给出推荐路线类型
* 推荐新的区域/方向
* 可提示：
  “你还从没从 XX 区域去过 XX 河岸路线”

---

## 五、页面结构（最终版）

| 页面         | 内容             |
| ---------- | -------------- |
| Profile    | 账号 + Iconic 展示 |
| Activities | 活动筛选与设置        |
| Map        | 热图 & 探索 & 对比   |
| Dashboard  | 自由面板           |
| Stats      | 数据 + Level     |

---

## 六、实现阶段拆分（落地计划）

我给你按**从 MVP → Beta → Growth** 拆 3 个大阶段。

---

## 阶段一：MVP 核心上线（1–2 月）

目标：基本可用 + 产品雏形

实现内容：

* ✅ Strava 登录 & 同步最近 30 条活动
* ✅ 基础个人热图
* ✅ Activities 页面筛选展示
* ✅ 基础 Stats 页面
* ✅ Level & XP 基础规则

**产出目标：**
可提供给 5–10 位朋友测试

---

## 阶段二：增强版功能（Beta）（2–4 月）

目标：形成产品核心竞争力

实现：

* ✅ Personal vs Weekly 热图对比
* ✅ Iconic Activities 模块
* ✅ 偏好分析模型 v1
* ✅ Dashboard 自由拖拽面板 v1
* ✅ 探索指数计算

**产出目标：**
有清晰差异化亮点
适合早期公开测试

---

## 阶段三：智能化 & 社区（Growth）（4–6 月）

目标：构建产品“护城河”

内容包括：

* 推荐路线算法 v1
* 热区分享
* 公开个人主页
* 探索路线任务系统
* 社区共享路线

---

## 七、成功指标（KPI）

### MVP 期目标

| 指标       | 目标    |
| -------- | ----- |
| 次日留存     | >30%  |
| 7日留存     | >15%  |
| 用户平均访问时长 | >6 分钟 |
| 用户每周打开次数 | ≥3 次  |

---

## 八、技术简要支持

推荐技术栈：

| 模块 | 技术                   |
| -- | -------------------- |
| 前端 | Next.js + Tailwind   |
| 地图 | Mapbox + Deck.gl     |
| 后端 | FastAPI              |
| DB | PostgreSQL + PostGIS |
